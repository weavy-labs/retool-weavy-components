{"name":"WeavyAuthentication","description":null,"organizationId":280495,"isEnabled":false,"crontab":null,"timezone":"Europe/Berlin","blockData":[{"top":-2656,"left":16,"uuid":"455ffb57-d968-4b67-af83-2b24989a1ddd","options":{},"pluginId":"startTrigger","blockType":"webhook","dimensions":{"width":368,"height":320},"editorType":"JavascriptQuery","environment":"production","isMinimized":false,"resourceName":"webhook","incomingOnSuccessEdges":[]},{"top":-2032,"left":1232,"uuid":"145745e0-a8cc-41c2-b383-d8112141ba3a","options":{"body":"{\n  \"access_token\" : getaccesstoken.data.access_token\n}","status":"200"},"pluginId":"accessToken","blockType":"webhookReturn","dimensions":{"width":544,"height":248},"editorType":"JavascriptQuery","environment":"production","isMinimized":false,"resourceName":"JavascriptQuery","incomingPorts":[{"portId":"bf370ed1-d267-408f-9112-501323ad810e","blockId":"3d0276ba-09ee-4333-a13b-4dd9c2cc62b6"}],"responsePanelState":"closed","incomingOnSuccessEdges":["af8149ed-5bef-45d2-87ff-71c17f7c066e","3d0276ba-09ee-4333-a13b-4dd9c2cc62b6"]},{"top":-2656,"left":640,"uuid":"3d0276ba-09ee-4333-a13b-4dd9c2cc62b6","pluginId":"createUser","blockType":"default","dimensions":{"width":432,"height":595},"editorType":"OpenAPIQuery","environment":"production","resourceName":"WeavyAPI","outgoingPorts":[{"id":"bf370ed1-d267-408f-9112-501323ad810e","name":"onError-3d0276ba-09ee-4333-a13b-4dd9c2cc62b6","type":"onError"}],"responsePanelState":"closed","incomingOnSuccessEdges":["455ffb57-d968-4b67-af83-2b24989a1ddd"]},{"top":-2032,"left":528,"uuid":"af8149ed-5bef-45d2-87ff-71c17f7c066e","pluginId":"getAccessToken","blockType":"default","dimensions":{"width":640,"height":555},"editorType":"OpenAPIQuery","environment":"production","resourceName":"WeavyAPI","responsePanelState":"closed","incomingOnSuccessEdges":["455ffb57-d968-4b67-af83-2b24989a1ddd"]}],"templateData":"[\"~#iR\",[\"^ \",\"n\",\"appTemplate\",\"v\",[\"^ \",\"appMaxWidth\",\"100%\",\"appStyles\",\"\",\"appTesting\",null,\"appThemeId\",null,\"appThemeModeId\",null,\"appThemeName\",null,\"createdAt\",null,\"customComponentCollections\",[],\"customDocumentTitle\",\"\",\"customDocumentTitleEnabled\",false,\"customShortcuts\",[],\"experimentalDataTabEnabled\",false,\"experimentalFeatures\",[\"^ \",\"sourceControlTemplateDehydration\",false,\"multiplayerEditingEnabled\",false,\"disableMultiplayerEditing\",false],\"folders\",[\"~#iL\",[]],\"formAppSettings\",[\"^ \",\"customRedirectUrl\",\"\"],\"inAppRetoolPillAppearance\",\"NO_OVERRIDE\",\"instrumentationEnabled\",false,\"internationalizationSettings\",[\"^ \",\"internationalizationEnabled\",false,\"internationalizationFiles\",[]],\"isFetching\",false,\"isFormApp\",false,\"isGlobalWidget\",false,\"isMobileApp\",false,\"loadingIndicatorsDisabled\",false,\"markdownLinkBehavior\",\"auto\",\"mobileAppSettings\",[\"^ \",\"mobileOfflineModeEnabled\",false,\"mobileOfflineModeDelaySync\",false,\"mobileOfflineModeBannerMode\",\"default\",\"displaySetting\",[\"^ \",\"landscapeMode\",false,\"tabletMode\",false]],\"mobileOfflineAssets\",[],\"multiScreenMobileApp\",false,\"notificationsSettings\",[\"^ \",\"globalQueryShowFailureToast\",true,\"globalQueryShowSuccessToast\",false,\"globalQueryToastDuration\",4.5],\"pageCodeFolders\",[\"^ \"],\"pageLoadValueOverrides\",[\"^B\",[]],\"persistUrlParams\",false,\"plugins\",[\"~#iOM\",[\"startTrigger\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"startTrigger\",\"uuid\",null,\"type\",\"datasource\",\"subtype\",\"JavascriptQuery\",\"namespace\",null,\"resourceName\",\"JavascriptQuery\",\"resourceDisplayName\",null,\"template\",[\"~#iM\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"\\n  const evalStartTriggerBlock = () => {\\n    const getExampleInputJSON = () => {\\n      try {\\n        return { \\n  \\\"user\\\" : {{ current_user }}\\n}\\n      } catch {\\n        return { error: true, message: 'Error parsing example input JSON' }\\n      }\\n    }\\n    const getExamplePathParams = () => {\\n      try {\\n        return {}\\n      } catch {\\n        return { error: true, message: 'Error parsing example path params' }\\n      }\\n    }\\n    const getExampleHeaders = () => {\\n      try {\\n        return {}\\n      } catch {\\n        return { error: true, message: 'Error parsing example headers' }\\n      }\\n    }\\n    return {\\n      _retool_exampleInputJSON: getExampleInputJSON(),\\n      _retool_exampleHeaders: getExampleHeaders(),\\n      _retool_examplePathParams: getExamplePathParams(),\\n    }\\n  }\\n  return evalStartTriggerBlock()\\n  \",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^1=\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^1=\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"style\",null,\"position2\",null,\"mobilePosition2\",null,\"mobileAppPosition\",null,\"tabIndex\",null,\"container\",\"\",\"^7\",\"~m1708339973610\",\"updatedAt\",\"~m1747832682859\",\"folder\",\"\",\"presetName\",null,\"screen\",null,\"boxId\",null,\"subBoxIds\",null]]],\"accessToken\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"accessToken\",\"^16\",null,\"^17\",\"datasource\",\"^18\",\"JavascriptQuery\",\"^19\",null,\"^1:\",\"JavascriptQuery\",\"^1;\",null,\"^1<\",[\"^1=\",[\"queryRefreshTime\",\"\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"workflowRunExecutionType\",\"sync\",\"workflowRunId\",null,\"showFailureToaster\",true,\"query\",\"const generateReturn = () => {\\n    const status = () => {\\n      try {\\n        return 200\\n      } catch {\\n        return 200\\n      }\\n    }\\n  const body = () => {\\n    try {\\n      return {\\n  \\\"access_token\\\" : getAccessToken.data.access_token\\n}\\n    } catch {\\n      return {'error': true, 'messsage': 'there was a problem parsing the JSON body of accesstoken'}\\n    }\\n  }\\n  return {status: status(), body: body() }\\n  }\\n  return generateReturn()\\n  \",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"workflowBlockUuid\",null,\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^15\",[]],\"_additionalScope\",[\"^B\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"workflowActionType\",null,\"editorMode\",\"sql\",\"queryRunTime\",null,\"changesetObject\",\"\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"enableErrorTransformer\",false,\"isHidden\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"evalType\",\"script\",\"importedQueryDefaults\",[\"^15\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"// Query results are available as the `data` variable\\nreturn data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^1>\",null,\"^1?\",null,\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",\"\",\"^7\",\"~m1708340735195\",\"^1D\",\"~m1736842543376\",\"^1E\",\"\",\"^1F\",null,\"^1G\",null,\"^1H\",null,\"^1I\",null]]],\"createUser\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"createUser\",\"^16\",null,\"^17\",\"datasource\",\"^18\",\"OpenAPIQuery\",\"^19\",null,\"^1:\",\"WeavyAPI\",\"^1;\",null,\"^1<\",[\"^1=\",[\"queryRefreshTime\",\"\",\"requestBodyMetadata\",\"\",\"method\",\"put\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"operationId\",\"upsertUser\",\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"server\",\"\",\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"path\",\"/api/users/{uid}\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"autoPaginate\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"parameters\",\"{\\\"uid\\\":\\\"{{startTrigger.data.user.sid }}\\\"}\",\"data\",null,\"specPathOverride\",\"\",\"importedQueryInputs\",[\"^15\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"requestBodyDynamicStates\",\"{\\\"uid\\\":false,\\\"email\\\":false,\\\"given_name\\\":false,\\\"middle_name\\\":false,\\\"name\\\":false,\\\"family_name\\\":false,\\\"nickname\\\":false,\\\"phone_number\\\":false,\\\"comment\\\":false,\\\"picture\\\":false,\\\"directory\\\":false,\\\"metadata\\\":false,\\\"tags\\\":false,\\\"is_suspended\\\":false,\\\"is_bot\\\":false}\",\"queryRunTime\",null,\"changesetObject\",\"\",\"requestBody\",\"{\\\"name\\\":\\\"{{ startTrigger.data.user.fullName && startTrigger.data.user.fullName !== 'undefined' ? startTrigger.data.user.fullName : startTrigger.data.user.firstName + ' ' + startTrigger.data.user.lastName }}\\\",\\\"email\\\":\\\"{{ startTrigger.data.user.email }}\\\",\\\"picture\\\":\\\"{{startTrigger.data.user.profilePhotoUrl || '' }}\\\"}\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"specBasePath\",\"\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"serverVariables\",\"\",\"enableErrorTransformer\",false,\"isHidden\",false,\"autoPaginateLimit\",500,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"evalType\",\"script\",\"importedQueryDefaults\",[\"^15\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"parameterDynamicStates\",\"{\\\"uid\\\":false}\",\"parameterMetadata\",\"\",\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^1>\",null,\"^1?\",null,\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",\"\",\"^7\",\"~m1736856058942\",\"^1D\",\"~m1747832763336\",\"^1E\",\"\",\"^1F\",null,\"^1G\",null,\"^1H\",null,\"^1I\",null]]],\"getAccessToken\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"getAccessToken\",\"^16\",null,\"^17\",\"datasource\",\"^18\",\"OpenAPIQuery\",\"^19\",null,\"^1:\",\"WeavyAPI\",\"^1;\",null,\"^1<\",[\"^1=\",[\"queryRefreshTime\",\"\",\"requestBodyMetadata\",\"\",\"method\",\"post\",\"allowedGroupIds\",[\"^B\",[]],\"streamResponse\",false,\"operationId\",\"issueAccessToken\",\"lastReceivedFromResourceAt\",null,\"isFunction\",false,\"functionParameters\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"server\",\"\",\"offlineUserQueryInputs\",\"\",\"functionDescription\",null,\"successMessage\",\"\",\"queryDisabled\",\"\",\"path\",\"/api/users/{user}/tokens\",\"playgroundQuerySaveId\",\"latest\",\"workflowParams\",null,\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"autoPaginate\",false,\"workflowRunExecutionType\",\"sync\",\"showFailureToaster\",true,\"query\",\"\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"workflowRunBodyType\",\"raw\",\"privateParams\",[\"^B\",[]],\"queryRunOnSelectorUpdate\",false,\"runWhenPageLoadsDelay\",\"\",\"parameters\",\"{\\\"user\\\":\\\"{{ startTrigger.data.user.sid }}\\\"}\",\"data\",null,\"specPathOverride\",\"\",\"importedQueryInputs\",[\"^15\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"requestBodyDynamicStates\",\"{\\\"expires_in\\\":false}\",\"queryRunTime\",null,\"changesetObject\",\"\",\"requestBody\",\"{}\",\"offlineOptimisticResponse\",null,\"errorTransformer\",\"return data.error\",\"specBasePath\",\"\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^B\",[]],\"serverVariables\",\"\",\"enableErrorTransformer\",false,\"isHidden\",false,\"autoPaginateLimit\",500,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"evalType\",\"script\",\"importedQueryDefaults\",[\"^15\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"parameterDynamicStates\",\"{\\\"user\\\":false}\",\"parameterMetadata\",\"\",\"overrideOrgCacheForUserCache\",false,\"runWhenPageLoads\",false,\"transformer\",\"return data\",\"events\",[\"^B\",[]],\"queryTimeout\",\"10000\",\"workflowId\",null,\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^B\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^1>\",null,\"^1?\",null,\"^1@\",null,\"^1A\",null,\"^1B\",null,\"^1C\",\"\",\"^7\",\"~m1736856283673\",\"^1D\",\"~m1747436488186\",\"^1E\",\"\",\"^1F\",null,\"^1G\",null,\"^1H\",null,\"^1I\",null]]]]],\"preloadedAppJavaScript\",null,\"preloadedAppJSLinks\",[],\"queryStatusVisibility\",false,\"responsiveLayoutDisabled\",false,\"rootScreen\",null,\"savePlatform\",\"web\",\"shortlink\",null,\"testEntities\",[],\"tests\",[],\"urlFragmentDefinitions\",[\"^B\",[]],\"version\",\"3.208.0\",\"serializedLayout\",null,\"agentEvals\",[\"^ \"]]]]","triggerWebhooks":[{"name":"startTrigger","uuid":"startTrigger","inputSchema":{"properties":[]},"useHeaderApiKey":false,"exampleInputJSON":"{ \n  \"user\" : {{ current_user }}\n}"}],"customLibraries":[],"createdBy":847075,"protected":false,"setupScripts":{"python":{"codeString":""},"javascript":{"codeString":""}},"subflows":[],"type":"workflow","iconName":null,"iconColor":null,"hasProtectedTriggers":false,"protectedTriggers":[]}